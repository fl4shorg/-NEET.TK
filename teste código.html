
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mensagens Anônimas</title>
    <meta name="description" content="Aplicativo de mensagens anônimas" />
    <style>
      @tailwind base;
      @tailwind components;
      @tailwind utilities;

      :root {
        --background: 0 0% 100%;
        --foreground: 222.2 84% 4.9%;
        --card: 0 0% 100%;
        --card-foreground: 222.2 84% 4.9%;
        --popover: 0 0% 100%;
        --popover-foreground: 222.2 84% 4.9%;
        --primary: 222.2 47.4% 11.2%;
        --primary-foreground: 210 40% 98%;
        --secondary: 210 40% 96.1%;
        --secondary-foreground: 222.2 47.4% 11.2%;
        --muted: 210 40% 96.1%;
        --muted-foreground: 215.4 16.3% 46.9%;
        --accent: 210 40% 96.1%;
        --accent-foreground: 222.2 47.4% 11.2%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 210 40% 98%;
        --border: 214.3 31.8% 91.4%;
        --input: 214.3 31.8% 91.4%;
        --ring: 222.2 84% 4.9%;
        --radius: 0.5rem;
        --sidebar-background: 0 0% 98%;
        --sidebar-foreground: 240 5.3% 26.1%;
        --sidebar-primary: 240 5.9% 10%;
        --sidebar-primary-foreground: 0 0% 98%;
        --sidebar-accent: 240 4.8% 95.9%;
        --sidebar-accent-foreground: 240 5.9% 10%;
        --sidebar-border: 220 13% 91%;
        --sidebar-ring: 217.2 91.2% 59.8%;
      }

      .dark {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;
        --card: 222.2 84% 4.9%;
        --card-foreground: 210 40% 98%;
        --popover: 222.2 84% 4.9%;
        --popover-foreground: 210 40% 98%;
        --primary: 210 40% 98%;
        --primary-foreground: 222.2 47.4% 11.2%;
        --secondary: 217.2 32.6% 17.5%;
        --secondary-foreground: 210 40% 98%;
        --muted: 217.2 32.6% 17.5%;
        --muted-foreground: 215 20.2% 65.1%;
        --accent: 217.2 32.6% 17.5%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;
        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 212.7 26.8% 83.9%;
        --sidebar-background: 240 5.9% 10%;
        --sidebar-foreground: 240 4.8% 95.9%;
        --sidebar-primary: 224.3 76.3% 48%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 240 3.7% 15.9%;
        --sidebar-accent-foreground: 240 4.8% 95.9%;
        --sidebar-border: 240 3.7% 15.9%;
        --sidebar-ring: 217.2 91.2% 59.8%;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background-color: white;
        color: #0f172a;
        transition: background-color 0.3s, color 0.3s;
        min-height: 100vh;
      }

      .dark body {
        background-color: #1e293b;
        color: #f8fafc;
      }

      /* Animações e estilos personalizados */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes slideUp {
        from { transform: translateY(10px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      @keyframes slideDown {
        from { transform: translateY(-10px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      @keyframes pulseSlight {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
      }

      .animate-fade-in {
        animation: fadeIn 0.4s ease-out;
      }

      .animate-slide-up {
        animation: slideUp 0.6s ease-out;
      }

      .animate-slide-down {
        animation: slideDown 0.6s ease-out;
      }

      .animate-pulse-subtle {
        animation: pulseSlight 2s ease-in-out infinite;
      }

      .animate-pulse {
        animation: pulseSlight 1s ease-in-out infinite;
      }

      /* Layout containers */
      .app-container {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        transition: background-color 0.3s, color 0.3s;
      }

      /* Header */
      .header {
        border-bottom: 1px solid #e5e7eb;
        position: sticky;
        top: 0;
        z-index: 10;
        background-color: white;
        transition: background-color 0.3s, border-color 0.3s;
      }

      .dark .header {
        background-color: #1e293b;
        border-color: #334155;
      }

      .header-container {
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 4rem;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .logo {
        height: 2.5rem;
        width: 2.5rem;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
      }

      .logo svg {
        width: 1.25rem;
        height: 1.25rem;
      }

      .site-title {
        font-size: 1.25rem;
        font-weight: 600;
        letter-spacing: -0.025em;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .search-container {
        position: relative;
        display: none;
      }

      @media (min-width: 640px) {
        .search-container {
          display: block;
        }
      }

      .search-icon {
        position: absolute;
        left: 0.625rem;
        top: 0.625rem;
        color: #9ca3af;
      }

      .search-input {
        width: 16rem;
        padding: 0.5rem 1rem 0.5rem 2.25rem;
        font-size: 0.875rem;
        border-radius: 0.375rem;
        border: 1px solid #e5e7eb;
        background-color: white;
        transition: border-color 0.3s, background-color 0.3s;
      }

      .dark .search-input {
        background-color: #1f2937;
        border-color: #4b5563;
        color: #f3f4f6;
      }

      .search-input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
      }

      .theme-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 9999px;
        border: none;
        background-color: #f3f4f6;
        color: #4b5563;
        cursor: pointer;
        transition: background-color 0.3s, color 0.3s;
      }

      .dark .theme-toggle {
        background-color: #1f2937;
        color: #d1d5db;
      }

      .theme-toggle:hover {
        background-color: #e5e7eb;
      }

      .dark .theme-toggle:hover {
        background-color: #374151;
      }

      /* Layout */
      .layout {
        display: flex;
        flex: 1;
      }

      /* Sidebar */
      .sidebar {
        width: 16rem;
        border-right: 1px solid #e5e7eb;
        display: none;
        background-color: #f9fafb;
        transition: background-color 0.3s, border-color 0.3s;
      }

      @media (min-width: 768px) {
        .sidebar {
          display: block;
        }
      }

      .dark .sidebar {
        background-color: #1e293b;
        border-color: #334155;
      }

      .sidebar-content {
        padding: 1rem;
      }

      .sidebar-nav {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }

      .nav-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        width: 100%;
        padding: 0.5rem;
        border-radius: 0.375rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s, color 0.3s;
        text-align: left;
        border: none;
      }

      .nav-item.active {
        background-color: #f3f4f6;
        color: #111827;
      }

      .dark .nav-item.active {
        background-color: #1f2937;
        color: #f9fafb;
      }

      .nav-item:not(.active) {
        color: #4b5563;
      }

      .dark .nav-item:not(.active) {
        color: #9ca3af;
      }

      .nav-item:not(.active):hover {
        background-color: #f9fafb;
      }

      .dark .nav-item:not(.active):hover {
        background-color: #1f2937;
      }

      .badge {
        margin-left: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 1.5rem;
        height: 1.25rem;
        padding: 0 0.375rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        color: white;
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
      }

      /* Main Content */
      .main-content {
        flex: 1;
        overflow: auto;
        background-color: white;
        transition: background-color 0.3s;
      }

      .dark .main-content {
        background-color: #111827;
      }

      .content-container {
        width: 100%;
        max-width: 64rem;
        margin: 0 auto;
        padding: 1.5rem 1rem;
      }

      /* Inbox Header */
      .inbox-header {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      @media (min-width: 640px) {
        .inbox-header {
          flex-direction: row;
          align-items: center;
        }
      }

      .inbox-title {
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: -0.025em;
      }

      .dark .inbox-title {
        color: white;
      }

      .inbox-subtitle {
        color: #6b7280;
        margin-top: 0.25rem;
      }

      .dark .inbox-subtitle {
        color: #9ca3af;
      }

      .mobile-search {
        position: relative;
        width: 100%;
        display: block;
      }

      @media (min-width: 640px) {
        .mobile-search {
          display: none;
        }
      }

      .mobile-search .search-icon {
        position: absolute;
        left: 0.625rem;
        top: 0.625rem;
        color: #9ca3af;
      }

      .mobile-search .search-input {
        width: 100%;
      }

      .header-actions-right {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        align-self: flex-end;
      }

      @media (min-width: 640px) {
        .header-actions-right {
          align-self: auto;
        }
      }

      .action-button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 0.375rem;
        border: none;
        background-color: transparent;
        color: #4b5563;
        cursor: pointer;
        position: relative;
        transition: background-color 0.3s;
      }

      .action-button:hover {
        background-color: #f3f4f6;
      }

      .dark .action-button:hover {
        background-color: #1f2937;
      }

      .filter-indicator {
        position: absolute;
        top: -0.25rem;
        right: -0.25rem;
        width: 0.5rem;
        height: 0.5rem;
        border-radius: 9999px;
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
      }

      /* Filters Panel */
      .filters-panel {
        background-color: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        padding: 0.75rem;
        margin-bottom: 1rem;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        animation: fadeIn 0.4s ease-out;
      }

      .dark .filters-panel {
        background-color: #1f2937;
        border-color: #374151;
      }

      .filters-title {
        font-size: 0.875rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .dark .filters-title {
        color: #e5e7eb;
      }

      .filters-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
      }

      @media (min-width: 640px) {
        .filters-grid {
          grid-template-columns: repeat(5, 1fr);
        }
      }

      .filter-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem;
        font-size: 0.75rem;
        padding: 0.5rem 0.75rem;
        border-radius: 0.375rem;
        border: none;
        cursor: pointer;
        height: auto;
        transition: background-color 0.3s, color 0.3s;
        background-color: #f3f4f6;
        color: #4b5563;
      }

      .dark .filter-button {
        background-color: #374151;
        color: #e5e7eb;
      }

      .filter-button:hover {
        background-color: #e5e7eb;
      }

      .dark .filter-button:hover {
        background-color: #4b5563;
      }

      .filter-button.active {
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
        color: white;
      }

      /* Loading State */
      .loading-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 5rem 0;
      }

      .loading-dots {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .loading-dot {
        width: 0.75rem;
        height: 0.75rem;
        border-radius: 9999px;
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
        animation: pulseSlight 1.5s ease-in-out infinite;
      }

      .loading-dot:nth-child(2) {
        opacity: 0.6;
        animation-delay: 0.2s;
      }

      .loading-dot:nth-child(3) {
        opacity: 0.4;
        animation-delay: 0.4s;
      }

      .loading-text {
        color: #6b7280;
        margin-top: 1rem;
        animation: pulseSlight 2s ease-in-out infinite;
      }

      .dark .loading-text {
        color: #9ca3af;
      }

      /* Error State */
      .error-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 4rem 0;
        text-align: center;
      }

      .error-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 3rem;
        height: 3rem;
        border-radius: 9999px;
        background-color: #fee2e2;
        color: #ef4444;
        margin-bottom: 1rem;
      }

      .dark .error-icon {
        background-color: rgba(239, 68, 68, 0.2);
        color: #f87171;
      }

      .error-title {
        font-size: 1.25rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .dark .error-title {
        color: white;
      }

      .error-message {
        color: #6b7280;
        max-width: 28rem;
      }

      .dark .error-message {
        color: #9ca3af;
      }

      /* Empty State */
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 4rem 0;
        text-align: center;
      }

      .empty-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 3rem;
        height: 3rem;
        border-radius: 9999px;
        background-color: #f3f4f6;
        color: #6b7280;
        margin-bottom: 1rem;
      }

      .dark .empty-icon {
        background-color: #1f2937;
        color: #9ca3af;
      }

      .empty-title {
        font-size: 1.25rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .dark .empty-title {
        color: white;
      }

      .empty-message {
        color: #6b7280;
        max-width: 28rem;
      }

      .dark .empty-message {
        color: #9ca3af;
      }

      /* Message Card */
      .message-card {
        background-color: white;
        border-radius: 1rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        margin-bottom: 0.5rem;
        overflow: hidden;
        border: 1px solid #e5e7eb;
        animation: fadeIn 0.4s ease-out;
      }

      .dark .message-card {
        background-color: #1f2937;
        border-color: #374151;
      }

      .message-header {
        padding: 1rem;
        font-weight: 500;
        text-align: center;
        color: white;
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
      }

      .message-content {
        padding: 1.5rem;
        text-align: center;
        font-size: 1.25rem;
        font-weight: 500;
      }

      .dark .message-content {
        color: #f9fafb;
      }

      .message-actions {
        display: flex;
        justify-content: center;
        gap: 1rem;
        padding: 1rem;
      }

      .message-action-button {
        width: 3rem;
        height: 3rem;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
      }

      .message-action-button:hover {
        transform: scale(1.05);
      }

      .info-button {
        background: linear-gradient(90deg, #8B5CF6 0%, #3B82F6 100%);
        color: white;
      }

      .share-button {
        background-color: #22c55e;
        color: white;
      }

      .reply-button {
        background-color: #f3f4f6;
        color: #6b7280;
      }

      .dark .reply-button {
        background-color: #374151;
        color: #d1d5db;
      }

      /* Footer */
      .footer {
        padding: 1.5rem 1rem;
        text-align: center;
        font-size: 0.875rem;
        color: #6b7280;
        border-top: 1px solid #e5e7eb;
        transition: border-color 0.3s;
      }

      .dark .footer {
        color: #9ca3af;
        border-color: #374151;
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div id="app" class="app-container">
      <!-- Header -->
      <header class="header">
        <div class="header-container">
          <div class="header-content">
            <div class="logo-container">
              <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
              </div>
              <h1 class="site-title">Mensagens Anônimas</h1>
            </div>
            <div class="header-actions">
              <div class="search-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon">
                  <circle cx="11" cy="11" r="8"></circle>
                  <path d="m21 21-4.3-4.3"></path>
                </svg>
                <input type="text" id="searchInput" placeholder="Buscar mensagens..." class="search-input">
              </div>
              <button id="themeToggle" class="theme-toggle" aria-label="Alternar tema">
                <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: block;">
                  <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
                </svg>
                <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
                  <circle cx="12" cy="12" r="4"></circle>
                  <path d="M12 2v2"></path>
                  <path d="M12 20v2"></path>
                  <path d="m4.93 4.93 1.41 1.41"></path>
                  <path d="m17.66 17.66 1.41 1.41"></path>
                  <path d="M2 12h2"></path>
                  <path d="M20 12h2"></path>
                  <path d="m6.34 17.66-1.41 1.41"></path>
                  <path d="m19.07 4.93-1.41 1.41"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Layout -->
      <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
          <div class="sidebar-content">
            <nav class="sidebar-nav">
              <button class="nav-item active">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                </svg>
                <span>Caixa de entrada</span>
                <span id="messagesCount" class="badge">0</span>
              </button>
              <button class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>Enviadas</span>
              </button>
            </nav>
          </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
          <div class="content-container">
            <!-- Inbox Header -->
            <div class="inbox-header">
              <div>
                <h2 class="inbox-title">Caixa de entrada</h2>
                <p id="inboxSubtitle" class="inbox-subtitle">0 mensagens anônimas recebidas</p>
              </div>
              
              <!-- Mobile Search -->
              <div class="mobile-search">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon">
                  <circle cx="11" cy="11" r="8"></circle>
                  <path d="m21 21-4.3-4.3"></path>
                </svg>
                <input type="text" id="mobileSearchInput" placeholder="Buscar mensagens..." class="search-input">
              </div>
              
              <!-- Header Actions -->
              <div class="header-actions-right">
                <button id="filterButton" class="action-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="4" x2="4" y1="21" y2="14"></line>
                    <line x1="4" x2="4" y1="10" y2="3"></line>
                    <line x1="12" x2="12" y1="21" y2="12"></line>
                    <line x1="12" x2="12" y1="8" y2="3"></line>
                    <line x1="20" x2="20" y1="21" y2="16"></line>
                    <line x1="20" x2="20" y1="12" y2="3"></line>
                    <line x1="2" x2="6" y1="14" y2="14"></line>
                    <line x1="10" x2="14" y1="8" y2="8"></line>
                    <line x1="18" x2="22" y1="16" y2="16"></line>
                  </svg>
                  <span id="filterIndicator" class="filter-indicator" style="display: none;"></span>
                </button>
                <button class="action-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6"></path>
                  </svg>
                </button>
                <button class="action-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m9 18 6-6-6-6"></path>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Filters Panel (Hidden by Default) -->
            <div id="filtersPanel" class="filters-panel" style="display: none;">
              <h3 class="filters-title">Filtrar mensagens por:</h3>
              <div class="filters-grid">
                <button class="filter-button active" data-filter="all">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                  </svg>
                  <span>Todas</span>
                </button>
                <button class="filter-button" data-filter="today">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                  </svg>
                  <span>Hoje</span>
                </button>
                <button class="filter-button" data-filter="week">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                    <line x1="16" x2="16" y1="2" y2="6"></line>
                    <line x1="8" x2="8" y1="2" y2="6"></line>
                    <line x1="3" x2="21" y1="10" y2="10"></line>
                  </svg>
                  <span>Esta semana</span>
                </button>
                <button class="filter-button" data-filter="month">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                    <line x1="16" x2="16" y1="2" y2="6"></line>
                    <line x1="8" x2="8" y1="2" y2="6"></line>
                    <line x1="3" x2="21" y1="10" y2="10"></line>
                  </svg>
                  <span>Este mês</span>
                </button>
                <button class="filter-button" data-filter="new">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m5 12 7-7 7 7"></path>
                    <path d="M12 19V5"></path>
                  </svg>
                  <span>Novas</span>
                </button>
              </div>
            </div>

            <!-- State Container (Only One Will Be Shown) -->
            <div id="stateContainer">
              <!-- Loading State -->
              <div id="loadingState" class="loading-state">
                <div class="loading-dots">
                  <div class="loading-dot"></div>
                  <div class="loading-dot"></div>
                  <div class="loading-dot"></div>
                </div>
                <p class="loading-text">Carregando mensagens...</p>
              </div>

              <!-- Error State - Initially Hidden -->
              <div id="errorState" class="error-state" style="display: none;">
                <div class="error-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" x2="12" y1="8" y2="12"></line>
                    <line x1="12" x2="12.01" y1="16" y2="16"></line>
                  </svg>
                </div>
                <h3 class="error-title">Não foi possível carregar as mensagens</h3>
                <p class="error-message">Ocorreu um erro ao tentar buscar as mensagens. Por favor, verifique sua conexão e tente novamente.</p>
              </div>

              <!-- Empty State (Search/Filter) - Initially Hidden -->
              <div id="emptySearchState" class="empty-state" style="display: none;">
                <div class="empty-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.3-4.3"></path>
                  </svg>
                </div>
                <h3 class="empty-title">Nenhuma mensagem encontrada</h3>
                <p id="emptySearchText" class="empty-message">Nenhuma mensagem corresponde aos seus critérios de pesquisa ou filtro.</p>
              </div>

              <!-- Empty State (No Messages) - Initially Hidden -->
              <div id="emptyState" class="empty-state" style="display: none;">
                <div class="empty-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.3-4.3"></path>
                  </svg>
                </div>
                <h3 class="empty-title">Nenhuma mensagem encontrada</h3>
                <p class="empty-message">Não há mensagens registradas no momento. Volte mais tarde para verificar novamente.</p>
              </div>

              <!-- Message List - Initially Hidden -->
              <div id="messageList" class="space-y-4" style="display: none;"></div>
            </div>
          </div>
        </main>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <p>© <span id="currentYear"></span> NEEXT LTDA. Todos os direitos reservados.</p>
      </footer>
    </div>

    <script>
      // Estado global da aplicação
      const state = {
        questions: [],
        filteredQuestions: [],
        searchQuery: "",
        filterType: "all", // "all", "today", "week", "month", "new"
        loading: true,
        error: false,
        showFilters: false,
        isDarkMode: false
      };

      // Elementos DOM
      const elements = {
        app: document.getElementById('app'),
        searchInput: document.getElementById('searchInput'),
        mobileSearchInput: document.getElementById('mobileSearchInput'),
        themeToggle: document.getElementById('themeToggle'),
        sunIcon: document.getElementById('sunIcon'),
        moonIcon: document.getElementById('moonIcon'),
        filterButton: document.getElementById('filterButton'),
        filterIndicator: document.getElementById('filterIndicator'),
        filtersPanel: document.getElementById('filtersPanel'),
        filterButtons: document.querySelectorAll('.filter-button'),
        messagesCount: document.getElementById('messagesCount'),
        inboxSubtitle: document.getElementById('inboxSubtitle'),
        stateContainer: document.getElementById('stateContainer'),
        loadingState: document.getElementById('loadingState'),
        errorState: document.getElementById('errorState'),
        emptyState: document.getElementById('emptyState'),
        emptySearchState: document.getElementById('emptySearchState'),
        emptySearchText: document.getElementById('emptySearchText'),
        messageList: document.getElementById('messageList'),
        currentYear: document.getElementById('currentYear')
      };

      // Funções de utilidade
      function updateUI() {
        // Atualizar contagem de mensagens
        elements.messagesCount.textContent = state.filteredQuestions.length;
        elements.inboxSubtitle.textContent = `${state.filteredQuestions.length} mensagens anônimas recebidas`;
        
        // Mostrar o indicador de filtro
        elements.filterIndicator.style.display = state.filterType !== "all" ? "block" : "none";
        
        // Atualizar estado da UI
        if (state.loading) {
          elements.loadingState.style.display = "flex";
          elements.errorState.style.display = "none";
          elements.emptyState.style.display = "none";
          elements.emptySearchState.style.display = "none";
          elements.messageList.style.display = "none";
        } else if (state.error) {
          elements.loadingState.style.display = "none";
          elements.errorState.style.display = "flex";
          elements.emptyState.style.display = "none";
          elements.emptySearchState.style.display = "none";
          elements.messageList.style.display = "none";
        } else if (state.questions.length === 0) {
          elements.loadingState.style.display = "none";
          elements.errorState.style.display = "none";
          elements.emptyState.style.display = "flex";
          elements.emptySearchState.style.display = "none";
          elements.messageList.style.display = "none";
        } else if (state.filteredQuestions.length === 0) {
          elements.loadingState.style.display = "none";
          elements.errorState.style.display = "none";
          elements.emptyState.style.display = "none";
          elements.emptySearchState.style.display = "flex";
          if (state.searchQuery.trim() !== "") {
            elements.emptySearchText.textContent = `Nenhuma mensagem corresponde aos seus critérios de pesquisa ou filtro. Tente outra palavra-chave.`;
          } else {
            elements.emptySearchText.textContent = `Nenhuma mensagem corresponde aos seus critérios de pesquisa ou filtro.`;
          }
          elements.messageList.style.display = "none";
        } else {
          elements.loadingState.style.display = "none";
          elements.errorState.style.display = "none";
          elements.emptyState.style.display = "none";
          elements.emptySearchState.style.display = "none";
          elements.messageList.style.display = "block";
          
          // Renderizar mensagens
          renderMessages();
        }
      }
      
      function renderMessages() {
        // Limpar lista de mensagens
        elements.messageList.innerHTML = "";
        
        // Adicionar cada mensagem à lista
        state.filteredQuestions.forEach((message, index) => {
          const messageCard = document.createElement('div');
          messageCard.className = 'message-card';
          messageCard.style.animationDelay = `${0.1 + index * 0.05}s`;
          
          messageCard.innerHTML = `
            <div class="message-header">me mande mensagens anônimas!</div>
            <div class="message-content">${message.pergunta}</div>
            <div class="message-actions">
              <button class="message-action-button info-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M17.5 8a5.5 5.5 0 1 0 0 11 5.5 5.5 0 1 0 0-11z"></path>
                  <path d="M5.5 16a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"></path>
                </svg>
              </button>
              <button class="message-action-button share-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"></path>
                  <rect x="9" y="3" width="6" height="4" rx="2"></rect>
                  <path d="M3 8h18"></path>
                </svg>
              </button>
              <button class="message-action-button reply-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
              </button>
            </div>
          `;
          
          elements.messageList.appendChild(messageCard);
        });
      }
      
      function applyFilters() {
        if (state.questions.length === 0) return;
        
        let result = [...state.questions];
        
        // Aplicar filtro de tempo
        if (state.filterType !== "all") {
          // Como não temos data nas perguntas, vamos simular com slices
          if (state.filterType === "today") {
            // Simular perguntas de hoje (primeiras 3)
            result = result.slice(0, Math.min(3, result.length));
          } else if (state.filterType === "week") {
            // Simular perguntas da semana (primeiras 7)
            result = result.slice(0, Math.min(7, result.length));
          } else if (state.filterType === "month") {
            // Simular perguntas do mês (primeiras 15)
            result = result.slice(0, Math.min(15, result.length));
          } else if (state.filterType === "new") {
            // Simular novas perguntas (primeiras 5)
            result = result.slice(0, Math.min(5, result.length));
          }
        }
        
        // Aplicar pesquisa
        if (state.searchQuery.trim() !== "") {
          const query = state.searchQuery.toLowerCase();
          result = result.filter(q => 
            q.pergunta.toLowerCase().includes(query)
          );
        }
        
        state.filteredQuestions = result;
        updateUI();
      }

      function setFilterType(type) {
        state.filterType = type;
        
        // Atualizar botões de filtro
        elements.filterButtons.forEach(button => {
          if (button.dataset.filter === type) {
            button.classList.add('active');
          } else {
            button.classList.remove('active');
          }
        });
        
        applyFilters();
      }
      
      function setSearchQuery(query) {
        state.searchQuery = query;
        
        // Sincronizar campos de pesquisa
        elements.searchInput.value = query;
        elements.mobileSearchInput.value = query;
        
        applyFilters();
      }
      
      function toggleFilters() {
        state.showFilters = !state.showFilters;
        elements.filtersPanel.style.display = state.showFilters ? 'block' : 'none';
      }

      function toggleTheme() {
        state.isDarkMode = !state.isDarkMode;
        
        if (state.isDarkMode) {
          document.documentElement.classList.add('dark');
          elements.sunIcon.style.display = 'none';
          elements.moonIcon.style.display = 'block';
        } else {
          document.documentElement.classList.remove('dark');
          elements.sunIcon.style.display = 'block';
          elements.moonIcon.style.display = 'none';
        }
        
        localStorage.setItem('theme', state.isDarkMode ? 'dark' : 'light');
      }
      
      async function fetchQuestions() {
        state.loading = true;
        state.error = false;
        updateUI();
        
        try {
          const response = await fetch('https://script.google.com/macros/s/AKfycbyMh9YnzKtxF9Nc_awc9w8KSPyXa4OzXf0iiW748b8-dY4W0SxkoYy77Wcudn7ky9xUJg/exec');
          
          if (!response.ok) {
            throw new Error('Failed to fetch questions');
          }
          
          const data = await response.json();
          
          // Verificar se há perguntas
          if (!data.perguntas || data.perguntas.length === 0) {
            state.questions = [];
            state.filteredQuestions = [];
          } else {
            // Inverter a ordem das perguntas para mostrar as mais recentes primeiro
            state.questions = [...data.perguntas].reverse();
            state.filteredQuestions = state.questions;
          }
        } catch (error) {
          console.error('Error fetching questions:', error);
          state.error = true;
        } finally {
          state.loading = false;
          updateUI();
        }
      }
      
      // Inicialização da aplicação
      function initApp() {
        // Configurar o ano atual no footer
        elements.currentYear.textContent = new Date().getFullYear();
        
        // Verificar tema inicial
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const storedTheme = localStorage.getItem('theme');
        
        // Definir tema inicial
        if (storedTheme === 'dark' || (!storedTheme && prefersDark)) {
          state.isDarkMode = true;
          document.documentElement.classList.add('dark');
          elements.sunIcon.style.display = 'none';
          elements.moonIcon.style.display = 'block';
        }
        
        // Adicionar event listeners
        elements.themeToggle.addEventListener('click', toggleTheme);
        elements.filterButton.addEventListener('click', toggleFilters);
        
        elements.filterButtons.forEach(button => {
          button.addEventListener('click', () => {
            setFilterType(button.dataset.filter);
          });
        });
        
        elements.searchInput.addEventListener('input', (e) => {
          setSearchQuery(e.target.value);
        });
        
        elements.mobileSearchInput.addEventListener('input', (e) => {
          setSearchQuery(e.target.value);
        });
        
        // Carregar mensagens
        fetchQuestions();
      }
      
      // Iniciar aplicação quando o DOM estiver pronto
      document.addEventListener('DOMContentLoaded', initApp);
    </script>
  </body>
</html>
